---
layout: post
title: ARM体系结构
date: 2019-08-02 21:11:42
categories:	ARM
tags:
---

# ARM体系结构

## ARM 指令集可以分为哪六大类?



| 指令集           | 名字                 |
| ---------------- | -------------------- |
| LDR (load data ) | **字**数据加载指令   |
| LDRB             | **字节**数据加载指令 |
| LDRH             | **半字**数据加载指令 |
| STR              | **字**数据存储指令   |
| STRB             | **字节**数据存储指令 |
| STRH             | **半字**数据存储指令 |

1. 位, 比特, 字节, 字四这之间的关系?
   + 位 : bit, 计算自内部**数据存储**最小的单位;
   + 字节:  B,  计算机内部**数据处理**的基本单位,  1Byte = 8 bit;
   + 字: word, 计算机进行数据处理时,**一次存取, 加工和传送的长度**
     + 一个字组成: 一个或者多个byte;
     + 取决于: CPU处理器的位数, 64bit, 32bit;

## ARM体系结构中的工作状态?

1. ARM体系结构有四种工作状态

   - ARM状态: arm处理器**工作**在**32bit**的指令状态, **字对齐**的ARM指令;
   - Thumb状态: arm处理器**工作**在**16bit**的指令状态, **半字对齐**ARM指令;
   - Thumb-2状态: 这个状态是ARM7版本的处理器, **兼容**32bit/16bit
   - 调试状态: 处理器**关闭**的状态;

2. ARM状态 <--->Thumb状态 的**切换**

   ```
    LDR R0=lable+1;  // 从ARM到Thumb :   状态寄存器的最低位设置为1,BX指令,  R0指令将进入thumb状态;
    LDR R0=lable; 		//  从Thumb到 ARM: 寄存器最低位设置为0，BX指令、R0指令将进入arm状态
   ```

3. **进入ARM状态的三种方式**:  

   - **寄存器**最低位设置为0, 由Thumb到 ARM;
   - 当处理器进行**异常处理**时，则从异常向量地址开始执行，将自动进入ARM状态。
   - ARM处理器**复位**后开始执行代码时总是只处于ARM状态；

4. 注意几个问题?

   - Cortex-M3 : 只有Thumb-2状态和调试状态；
   - Thumb-2技术: ARM处理器**无需**再ARM状态和Thumb-2状态间进行切换了，因为thumb-2具有32位指令功能;