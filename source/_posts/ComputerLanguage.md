---
layout: post
title: Computer Language
date: 2018-02-19 21:35:14
categories: 
 - [Hardware Interface] 
 - [Computer-Composition-Principle]
tags: 
 - Hardware Interface 

---

# 第二章 指令--计算机的语言

## Schedule

| Dateline   | start time | end time | Learning           |
| ---------- | ---------- | -------- | ------------------ |
| 2018/12/6  | 8：50      | 9：50    | 第二章计算机指令   |
| 2018/12/7  | 8：20      | 9：30    | MIPS寄存器和存储器 |
| 2018/12/8  | 8：40      | 9:11     | 效率低             |
| 2018/12/10 | 19：00     | 19：44   | 效率低             |
| 2018/12/11 | 8：36      | 9：22    | 多寄存器的冲突问题 |
|            |            |          |                    |



## Proper Noun

| Full name                                          | 中文   | acronym                                    |
| -------------------------------------------------- | ------ | ------------------------------------------ |
| instruction set                                    | 指令集 | 一个给定的计算机体系结构所包含的指令集合。 |
| American Standrad Code for Information Interchange | ASCII  | 计算机的文字处理                           |
| Acorn Risc Machine                                 | ARM    | 处理器                                     |
| P99页                                              | ARM    | 有更多的寻址模式                           |
|                                                    | MIPS   | 有更多的寄存器                             |
|                                                    |        |                                            |
|                                                    |        |                                            |

## Question

- 1、为什么 Java 和 C 会是一样的呢？？
  - 解释和编译的平衡随着时间的推移逐步形成。
- 2、加速大概率事件？是什么意思.
- 3、编译C语言和解释Java语言？在配套的网站上。



## Conception

1. 指令集：计算机体系结构所包含的指令集合；
2. MISP: 可方便硬件和编译器的设计，性能最佳且功耗最低。
3. 存储程序的概念：多种类型的指令和数据均以数字形式存储于存储器中的概念。
4. 数据传送指令：在存储器和寄存器之间移动数据的指令；
5. 地址：用于在存储器空间中表示元素位置的值
6. 存储程序：存储器存放程序和编译后的机器码（0/1），文本；甚至是用于生成机器码的编译器。



## MIPS 的指令集 

- MIPS指令集，是一种寄存器到寄存器的语言。

1. MIPS操作数：

   | 类别             | 表示     | 数据访问                     | 特点                                   |
   | ---------------- | -------- | ---------------------------- | -------------------------------------- |
   | 32个寄存器(32位) | $zero    | 寄存器用于数据的快速存取     | 只能对存放在寄存器的数据进行算术操作。 |
   | 2^30个存储器字   | Memory[] | 只能通过数据访问传输指令访问 | 字节编程；相邻Memory[4] 字地址相差4    |

2. MIPS 算术运算

   - 一条指令，由三个操作数构成

     {% asset_img count.png  %}

3. 其余的汇编指令  P42页

   ​	 {% asset_img compilation.png  %}

4. MIPS 32位各字段的表示和命名

   1. 操作码：指令中用来表示操作和格式的字段

      {% asset_img mips.png  %}



## 计算机硬件的操作数

1. 寄存器
   - $s0…… 用于表示C和Java程序中变量所对应的寄存器；
   - $t0……用于表示将程序编译为MIPS，用到的临时寄存器；
   - MIPS 算数运算指令的操作数，必须来自寄存器，由于寄存器位数有限，所以需要从存储器中取数据；
2. 存储器
   - 数据传送指令和地址；
   - 存放像数组或结构那样的复杂数据结构；
   - 存储器 --> 寄存器 ：取数操作 load word
   - 寄存器 --> 存储器 ：存数操作 store word
3. **软硬件接口**
   1. 将变量和寄存器对应；
   2. 编译器在存储器中为数组和结构数据分配相应的位置；
   3. 编译器将存储器中数据对应的起始地址存放在：数据传送指令中。
4. **软硬件接口**
   1. 由于load和store指令中的地址是二进制的，作为主存的DRAM容量使用二进制而非十进制。
5. 符号位和非符号位表示方式
   - 负数的表示方式：采用补码的形式表示
   - 补码：最高位设置为1，源码取反（最高位不变），最低位加1。
6. **软硬件接口**
   1. 寄存器的数量和定长指令的需求和设置--矛盾；
   2. 寄存器任何数量的增长，都需要在指令格式中各个寄存器字段至少增加一位；
   3. 寄存器越小越快，所以目用的寄存器大多是16/32。



## 逻辑操作

1. 逻辑左移sll 和右移srl ：
   $$
   左移i位 = 原数 * 2^i
   $$

2. **软硬件接口**

   1. 编译器的最初阶段：将程序分解为若干基本块；
   2. 基本快：没有分支，并且没有分支目标和标签的指令序列.



## 计算机硬件对过程的支持

- 为了解决更多寄存器使用的冲突问题。

1. 栈的使用
   - 栈的增长是一种先进先出的结构；
   - 地址从高到低进行的,压栈时，栈的指针值减小；（从上到下）
2. 过程嵌套，出现寄存器的冲突问题
   - 通多对寄存器进行压栈处理，解决冲突；
3. **软硬件接口--全局指针**
   - 全局指针：$gp，指向静态数据区的保留寄存器
   - 为了简化静态数据的访问时间。
4. 栈中使用的指针
   1. 帧指针（frame pointer)：$fp----指向过程帧的第一个字；
   2. 栈指针：$sp 指向栈顶



## 人机交互

1. 计算机是为了数字计算
2. 计算机表示文字的处理，实现了人机交互。遵循ASCII
3. 为了表示web的全球特性,当今的大部分web页面采Unicode,而非ASCII。

### Java中的字符和字符串

1. 字符串是一个标准的Java类，它对连接，比较，转换的方法提供了专门的方法



P75

### 数组和指针

- 1、指针中变量的地址用 & 表示，指针所指向的对象用 * 表示。
- 2、寄存器的操作都是通过地址进行操作的。
- 3、编译器技术的理解，是理解性能的关键。

### ARM7(32)位指令集

|区别|ARM(32位)|MIPS|
|:-:|:-:|:-:|
||多寻址模式|多寄存器
|保存0|没有专门的寄存器|zero寄存器保存|

## 第三章 计算机的算数运算

### Proper Noun

|         Full name         |      中文      | acronym |
| :-----------------------: | :------------: | :-----: |
|   Arithmetic logic unit   |  算数逻辑单元  |   ALU   |
| Exception Program Counter | 异常程序计数器 |   EPC   |

### Question ？

- 1、无符号数通常表示内存地址，溢出可以忽略？
- 2、每个编译器都将以2为底的指数乘法替换为移位来进行优化。
- 3、使用32位数据表示通常要处理的无限数字。
- 4、乘法和除法：尽可能用 0/1  

### 加法和减法

1. 运算规则
   - 加法运算：从右到左，二进制代码相加进位；
   - 减法运算：将负数取反后，按照加法进行
2. 计算是否会溢出
   - 加法:源操作数异号时，不会溢出。
   - 减法:源操作数同号时，不会溢出。
3. 异常程序计数器EPC
   - 保存导致异常的指令地址

### 乘法

1. 乘法运算
   - 被乘数和乘数的表示？
   - 被乘数每次左移一位，和乘数的一位相乘，结果相加
   - 积的位数 = 被乘数的位数 + 乘数的位数
2. 被乘数，乘数，积
   - 每次进行的移位操作
   - 积：每次的求和结果
3. 更快速乘法
   - 给每一个乘法数分配一个32位的加法器；
   - 形成一个加法树；

### 除法

1. 除法没有怎么看懂？
2. 计算的方式
   - 除数：在右边补0，使其和被除数一样的位数
   - 计算的时候：商左移，除数右移
   - 除法：做减法；乘法：做加法

## 第四章 处理器