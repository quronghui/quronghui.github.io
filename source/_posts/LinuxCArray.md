---
layout: post
title: LinuxC Array
date: 2019-03-04 10:33:19
categories: 
 - [LinuxC] 
 - [Emededded]
 - [Array]
tags: [Linux, C]
---

# LinuxC Array

Code link](https://github.com/quronghui/LinuxC.git) -- Array 的相关代码

## 数组的基本操作

1. 数组的定义和赋值

2. Bug

   + 数组不可以相互赋值。

     ```
     int a[10], b[10];
     a = b; 			//这种赋值是错误的
     ```

   + 也不能用数组类型作为函数的参数或者返回值，用的是指针传参。

     

## 数组应用

1. 随机数的概念:

   + 计算机执行每一条指令的结果都是确定的,没有一条指令产生的是随机数,调用C标准库。
   + 得到的随机数其实是伪随机(Pseudorandom)数,是用数学公式算出来的确定的数,只不过这些数看起来很随机,并且从统计意义上也很接近均匀分布(Uniform Distribution)的随机数。

   ```
   $ int x = rand() % upper_bound;	
   // upper_bound 表示生成的随机数的最大上边界
   // 以后定义随机数的上边界最大值是多少
   ```

2. 编译器的工作原理

   + 先是预处理 Preprocess;

   + 然后才是 编译。编译的作用：翻译高级语言为可执行的二进制语言。

     ```
     gcc -E main.c
     ```

3. 预处理 CPP C preprocessor

   + 像 #include 和 #define 以#号开头的与法院诉称为预处理指示

4. C 标准库允许我们指定初值

   ```
   srand(time(NULL));	//srand 函数指定一个seed,调用当前系统时间距离1970年1月1日00:00:00的秒钟数，然后传给srand.
   ```

## 字符串

1. 字符串可以看作一个数组,它的元素是字符型的。

2. 字符串的打印和数组的打印不同。

   + 字符串的最后一位，必须包含一个 '\0'
   + 这里的' '\0' 是ASCII码的八进制表示.

   ```
   char str[] = "hello,world.\n";
   printf("string: %s \n", str);
   
   ```

3.  **Bug**

   + printf会从数组str 的开头一直打印到'\0'字符为止('\0'本身不打印)。
   + 这其实是一个危险的信号:如果数组str 中没有'\0',那么printf就会打印出界,后果和前面讲的数组访问越界一样诡异:有时候打印出乱码,有时候看起来没错误,有时候引起程序崩溃。

## 多维数组

1. 多维数组

   + 类似于结构体的嵌套；
   + 一个数组的元素可以是另外一个数组

2. 多维字符数组

   + 通过下标访问字符串组成的数组可以代替一堆case分支判断,这样就可以把每个case 里重复的代码(printf 调用)提取出来,从而又一次达到了“提取公因式”的效果。

   + 这种方法称为数据驱动的编程(Data-driven Programming):

   + 写代码最重要的是选择正确的**数据结构**来组织信息,设计控制流程和算法尚在其次,只要数据结构选择得正确,其它代码自然而然就变得容易理解和维护了

     {% asset_img array.png %}